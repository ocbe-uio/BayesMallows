<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Compute posterior intervals of parameters of interest."><title>Compute Posterior Intervals — compute_posterior_intervals • BayesMallows</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Posterior Intervals — compute_posterior_intervals"><meta property="og:description" content="Compute posterior intervals of parameters of interest."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BayesMallows</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/BayesMallows.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/SMC-Mallows.html">Sequential Inference with the Mallows Model</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ocbe-uio/BayesMallows/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Compute Posterior Intervals</h1>
      <small class="dont-index">Source: <a href="https://github.com/ocbe-uio/BayesMallows/blob/HEAD/R/compute_posterior_intervals.R" class="external-link"><code>R/compute_posterior_intervals.R</code></a></small>
      <div class="d-none name"><code>compute_posterior_intervals.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute posterior intervals of parameters of interest.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model_fit</dt>
<dd><p>A model object.</p></dd>


<dt>...</dt>
<dd><p>other arguments passed to methods.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function computes both the Highest Posterior Density Interval (HPDI),
which may be discontinuous for bimodal distributions, and
the central posterior interval, which is simply defined by the quantiles of the posterior
distribution. The HPDI intervals are computed using the <code>HDInterval</code> package
(Meredith and Kruschke 2018)
.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Meredith M, Kruschke J (2018).
<em>HDInterval: Highest (Posterior) Density Intervals</em>.
R package version 0.2.0, <a href="https://CRAN.R-project.org/package=HDInterval" class="external-link">https://CRAN.R-project.org/package=HDInterval</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="compute_mallows.html">compute_mallows</a></code></p>
<p>Other posteriors quantities: 
<code><a href="assign_cluster.html">assign_cluster</a>()</code>,
<code><a href="compute_consensus.BayesMallows.html">compute_consensus.BayesMallows</a>()</code>,
<code><a href="compute_consensus.consensus_SMCMallows.html">compute_consensus.consensus_SMCMallows</a>()</code>,
<code><a href="compute_consensus.html">compute_consensus</a>()</code>,
<code><a href="compute_posterior_intervals.BayesMallows.html">compute_posterior_intervals.BayesMallows</a>()</code>,
<code><a href="compute_posterior_intervals.SMCMallows.html">compute_posterior_intervals.SMCMallows</a>()</code>,
<code><a href="compute_rho_consensus.html">compute_rho_consensus</a>()</code>,
<code><a href="heat_plot.html">heat_plot</a>()</code>,
<code><a href="plot.BayesMallows.html">plot.BayesMallows</a>()</code>,
<code><a href="plot.SMCMallows.html">plot.SMCMallows</a>()</code>,
<code><a href="plot_elbow.html">plot_elbow</a>()</code>,
<code><a href="plot_top_k.html">plot_top_k</a>()</code>,
<code><a href="predict_top_k.html">predict_top_k</a>()</code>,
<code><a href="print.BayesMallowsMixtures.html">print.BayesMallowsMixtures</a>()</code>,
<code><a href="print.BayesMallows.html">print.BayesMallows</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># The example datasets potato_visual and potato_weighing contain complete</span></span></span>
<span class="r-in"><span><span class="co"># rankings of 20 items, by 12 assessors. We first analyse these using the Mallows</span></span></span>
<span class="r-in"><span><span class="co"># model:</span></span></span>
<span class="r-in"><span><span class="va">model_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_mallows.html">compute_mallows</a></span><span class="op">(</span><span class="va">potato_visual</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Se the documentation to compute_mallows for how to assess the convergence of the algorithm</span></span></span>
<span class="r-in"><span><span class="co"># Having chosen burin = 1000, we compute posterior intervals</span></span></span>
<span class="r-in"><span><span class="va">model_fit</span><span class="op">$</span><span class="va">burnin</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="co"># First we compute the interval for alpha</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"alpha"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   parameter   mean median conf_level           hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     alpha 10.801 10.783       95 % [9.484,12.101]   [9.468,12.089]</span>
<span class="r-in"><span><span class="co"># We can reduce the number decimals</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"alpha"</span>, decimals <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   parameter mean median conf_level         hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     alpha 10.8  10.78       95 % [9.48,12.10]     [9.47,12.09]</span>
<span class="r-in"><span><span class="co"># By default, we get a 95 % interval. We can change that to 99 %.</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"alpha"</span>, level <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   parameter   mean median conf_level           hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     alpha 10.801 10.783       99 % [9.075,12.437]   [9.177,12.582]</span>
<span class="r-in"><span><span class="co"># We can also compute the posterior interval for the latent ranks rho</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"rho"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    item parameter mean median conf_level    hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    P1       rho   10     10       95 %  [9,12]           [9,12]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    P2       rho   17     17       95 % [16,18]          [16,18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    P3       rho   19     19       95 %    [19]             [19]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    P4       rho   16     16       95 % [16,18]          [16,18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    P5       rho   10     10       95 %  [9,12]           [9,12]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    P6       rho   15     15       95 %    [15]             [15]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    P7       rho    6      6       95 %   [5,7]            [5,7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    P8       rho   20     20       95 %    [20]             [20]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    P9       rho    3      3       95 %     [3]              [3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  P10       rho    4      4       95 %     [4]            [4,5]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  P11       rho   10     10       95 %  [9,12]           [8,12]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  P12       rho    1      1       95 %     [1]              [1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  P13       rho    2      2       95 %     [2]              [2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  P14       rho    7      7       95 %   [6,7]            [6,7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  P15       rho   18     18       95 % [17,18]          [17,18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  P16       rho    8      8       95 %     [8]            [8,9]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  P17       rho    5      5       95 %   [5,7]            [4,7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  P18       rho   14     14       95 % [13,14]          [13,14]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  P19       rho   11     12       95 %  [9,12]           [9,12]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  P20       rho   13     13       95 % [13,14]          [13,14]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Posterior intervals of cluster probabilities</span></span></span>
<span class="r-in"><span>  <span class="co"># We can run a mixture of Mallows models, using the n_clusters argument</span></span></span>
<span class="r-in"><span>  <span class="co"># We use the sushi example data. See the documentation of compute_mallows for a more elaborate</span></span></span>
<span class="r-in"><span>  <span class="co"># example</span></span></span>
<span class="r-in"><span>  <span class="va">model_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_mallows.html">compute_mallows</a></span><span class="op">(</span><span class="va">sushi_rankings</span>, n_clusters <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># Keeping the burnin at 1000, we can compute the posterior intervals of the cluster probabilities</span></span></span>
<span class="r-in"><span>  <span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, burnin <span class="op">=</span> <span class="fl">1000</span>, parameter <span class="op">=</span> <span class="st">"cluster_probs"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Oystein Sorensen, Valeria Vitelli, Marta Crispino, Qinghua Liu, Cristina Mollica, Luca Tardella, Anja Stein.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

