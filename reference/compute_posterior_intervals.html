<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Compute posterior intervals of parameters of interest."><title>Compute Posterior Intervals — compute_posterior_intervals • BayesMallows</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Posterior Intervals — compute_posterior_intervals"><meta property="og:description" content="Compute posterior intervals of parameters of interest."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BayesMallows</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/BayesMallows.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/parallel_chains.html">MCMC with Parallel Chains</a>
    <a class="dropdown-item" href="../articles/SMC-Mallows.html">Sequential Monte Carlo for the Bayesian Mallows model</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ocbe-uio/BayesMallows/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Compute Posterior Intervals</h1>
      <small class="dont-index">Source: <a href="https://github.com/ocbe-uio/BayesMallows/blob/HEAD/R/compute_posterior_intervals.R" class="external-link"><code>R/compute_posterior_intervals.R</code></a></small>
      <div class="d-none name"><code>compute_posterior_intervals.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute posterior intervals of parameters of interest.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for BayesMallows</span></span>
<span><span class="fu">compute_posterior_intervals</span><span class="op">(</span></span>
<span>  <span class="va">model_fit</span>,</span>
<span>  parameter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alpha"</span>, <span class="st">"rho"</span>, <span class="st">"cluster_probs"</span><span class="op">)</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  decimals <span class="op">=</span> <span class="fl">3L</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for SMCMallows</span></span>
<span><span class="fu">compute_posterior_intervals</span><span class="op">(</span></span>
<span>  <span class="va">model_fit</span>,</span>
<span>  parameter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alpha"</span>, <span class="st">"rho"</span><span class="op">)</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  decimals <span class="op">=</span> <span class="fl">3L</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model_fit</dt>
<dd><p>A model object.</p></dd>


<dt>...</dt>
<dd><p>Other arguments. Currently not used.</p></dd>


<dt>parameter</dt>
<dd><p>Character string defining which parameter to compute
posterior intervals for. One of <code>"alpha"</code>, <code>"rho"</code>, or
<code>"cluster_probs"</code>. Default is <code>"alpha"</code>.</p></dd>


<dt>level</dt>
<dd><p>Decimal number in \([0,1]\) specifying the confidence level.
Defaults to <code>0.95</code>.</p></dd>


<dt>decimals</dt>
<dd><p>Integer specifying the number of decimals to include in
posterior intervals and the mean and median. Defaults to <code>3</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function computes both the Highest Posterior Density Interval (HPDI),
which may be discontinuous for bimodal distributions, and
the central posterior interval, which is simply defined by the quantiles of the posterior
distribution.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>There are no references for Rd macro <code>\insertAllCites</code> on this help page.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other posterior quantities: 
<code><a href="assign_cluster.html">assign_cluster</a>()</code>,
<code><a href="compute_consensus.html">compute_consensus</a>()</code>,
<code><a href="get_acceptance_ratios.html">get_acceptance_ratios</a>()</code>,
<code><a href="heat_plot.html">heat_plot</a>()</code>,
<code><a href="plot.BayesMallows.html">plot.BayesMallows</a>()</code>,
<code><a href="plot.SMCMallows.html">plot.SMCMallows</a>()</code>,
<code><a href="plot_elbow.html">plot_elbow</a>()</code>,
<code><a href="plot_top_k.html">plot_top_k</a>()</code>,
<code><a href="predict_top_k.html">predict_top_k</a>()</code>,
<code><a href="print.BayesMallows.html">print.BayesMallows</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_mallows.html">compute_mallows</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="setup_rank_data.html">setup_rank_data</a></span><span class="op">(</span><span class="va">potato_visual</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  compute_options <span class="op">=</span> <span class="fu"><a href="set_compute_options.html">set_compute_options</a></span><span class="op">(</span>nmc <span class="op">=</span> <span class="fl">3000</span>, burnin <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># First we compute the interval for alpha</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"alpha"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   parameter   mean median           hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     alpha 10.778 10.818 [9.165,12.566]   [8.929,12.351]</span>
<span class="r-in"><span><span class="co"># We can reduce the number decimals</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"alpha"</span>, decimals <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   parameter  mean median         hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     alpha 10.78  10.82 [9.16,12.57]     [8.93,12.35]</span>
<span class="r-in"><span><span class="co"># By default, we get a 95 % interval. We can change that to 99 %.</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"alpha"</span>, level <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   parameter   mean median           hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     alpha 10.778 10.818 [8.276,12.748]   [8.276,12.748]</span>
<span class="r-in"><span><span class="co"># We can also compute the posterior interval for the latent ranks rho</span></span></span>
<span class="r-in"><span><span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"rho"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    parameter item mean median      hpdi central_interval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        rho   P1   10     10    [9,12]           [9,12]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        rho   P2   17     17   [16,18]          [16,18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        rho   P3   19     19      [19]             [19]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        rho   P4   16     16   [16,18]          [16,18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        rho   P5    9      9 [3][9,11]           [3,11]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        rho   P6   15     15      [15]          [15,16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        rho   P7    6      6     [5,7]            [5,7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        rho   P8   20     20      [20]             [20]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        rho   P9    3      3     [3,4]            [3,4]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       rho  P10    4      4  [4,5][7]            [3,7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       rho  P11   11     11    [9,12]           [9,12]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12       rho  P12    1      1       [1]              [1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       rho  P13    2      2       [2]              [2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14       rho  P14    7      7     [6,7]            [6,7]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15       rho  P15   18     18   [17,18]          [17,18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16       rho  P16    8      8     [8,9]            [8,9]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17       rho  P17    5      5  [4,6][8]            [4,8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18       rho  P18   14     14   [13,14]          [13,14]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19       rho  P19   12     12   [10,12]          [10,12]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20       rho  P20   13     13   [13,14]          [13,14]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Posterior intervals of cluster probabilities</span></span></span>
<span class="r-in"><span>  <span class="va">model_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="compute_mallows.html">compute_mallows</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="setup_rank_data.html">setup_rank_data</a></span><span class="op">(</span><span class="va">sushi_rankings</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    model_options <span class="op">=</span> <span class="fu"><a href="set_model_options.html">set_model_options</a></span><span class="op">(</span>n_clusters <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="burnin.html">burnin</a></span><span class="op">(</span><span class="va">model_fit</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"alpha"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">compute_posterior_intervals</span><span class="op">(</span><span class="va">model_fit</span>, parameter <span class="op">=</span> <span class="st">"cluster_probs"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Oystein Sorensen, Waldir Leoncio, Valeria Vitelli, Marta Crispino, Qinghua Liu, Cristina Mollica, Luca Tardella, Anja Stein.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer></div>

  

  

  </body></html>

