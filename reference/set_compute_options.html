<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Set parameters related to the Metropolis-Hastings algorithm."><title>Specify options for computation — set_compute_options • BayesMallows</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify options for computation — set_compute_options"><meta property="og:description" content="Set parameters related to the Metropolis-Hastings algorithm."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BayesMallows</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/BayesMallows.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/SMC-Mallows.html">Sequential Monte Carlo for the Bayesian Mallows model</a>
    <a class="dropdown-item" href="../articles/parallel_chains.html">MCMC with Parallel Chains</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ocbe-uio/BayesMallows/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Specify options for computation</h1>
      <small class="dont-index">Source: <a href="https://github.com/ocbe-uio/BayesMallows/blob/HEAD/R/set_compute_options.R" class="external-link"><code>R/set_compute_options.R</code></a></small>
      <div class="d-none name"><code>set_compute_options.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Set parameters related to the Metropolis-Hastings algorithm.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_compute_options</span><span class="op">(</span></span>
<span>  nmc <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>  burnin <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha_prop_sd <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  rho_proposal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ls"</span>, <span class="st">"swap"</span><span class="op">)</span>,</span>
<span>  leap_size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  aug_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"uniform"</span>, <span class="st">"pseudo"</span><span class="op">)</span>,</span>
<span>  pseudo_aug_metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"footrule"</span>, <span class="st">"spearman"</span><span class="op">)</span>,</span>
<span>  swap_leap <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  alpha_jump <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  aug_thinning <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  clus_thinning <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  rho_thinning <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  include_wcd <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_aug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_ind_clus <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>nmc</dt>
<dd><p>Integer specifying the number of iteration of the
Metropolis-Hastings algorithm to run. Defaults to <code>2000</code>. See
<code><a href="assess_convergence.html">assess_convergence()</a></code> for tools to check convergence of the Markov chain.</p></dd>


<dt>burnin</dt>
<dd><p>Integer defining the number of samples to discard. Defaults to
<code>NULL</code>, which means that burn-in is not set.</p></dd>


<dt>alpha_prop_sd</dt>
<dd><p>Numeric value specifying the \(\sigma\) parameter of
the lognormal proposal distribution used for \(\alpha\) in the
Metropolis-Hastings algorithm. The logarithm of the proposed samples will
have standard deviation given by <code>alpha_prop_sd</code>. Defaults to <code>0.1</code>.</p></dd>


<dt>rho_proposal</dt>
<dd><p>Character string specifying the proposal distribution of
modal ranking \(\rho\). Defaults to "ls", which means that the
leap-and-shift algorithm of Vitelli et al. (2018)

is used. The other option is "swap", which means that the swap proposal of
Crispino et al. (2019)
 is used instead.</p></dd>


<dt>leap_size</dt>
<dd><p>Integer specifying the step size of the distribution defined
in <code>rho_proposal</code> for proposing new latent ranks \(rho\). Defaults to 1.</p></dd>


<dt>aug_method</dt>
<dd><p>Augmentation proposal for use with missing data. One of
"pseudo" and "uniform". Defaults to "uniform", which means that new
augmented rankings are proposed by sampling uniformly from the set of
available ranks, see Section 4 in
Vitelli et al. (2018)
. Setting the argument to
"pseudo" instead, means that the pseudo-likelihood proposal defined in
Chapter 5 of
Stein (2023)
 is
used instead.</p></dd>


<dt>pseudo_aug_metric</dt>
<dd><p>String defining the metric to be used in the
pseudo-likelihood proposal. Only used if <code>aug_method = "pseudo"</code>. Can be
either "footrule" or "spearman", and defaults to "footrule".</p></dd>


<dt>swap_leap</dt>
<dd><p>Integer specifying the leap size for the swap proposal used
for proposing latent ranks in the case of non-transitive pairwise
preference data. Note that leap size for the swap proposal when used for
proposal the modal ranking \(\rho\) is given by the <code>leap_size</code>
argument above.</p></dd>


<dt>alpha_jump</dt>
<dd><p>Integer specifying how many times to sample \(\rho\)
between each sampling of \(\alpha\). In other words, how many times to
jump over \(\alpha\) while sampling \(\rho\), and possibly other
parameters like augmented ranks \(\tilde{R}\) or cluster assignments
\(z\). Setting <code>alpha_jump</code> to a high number can speed up computation
time, by reducing the number of times the partition function for the
Mallows model needs to be computed. Defaults to <code>1</code>.</p></dd>


<dt>aug_thinning</dt>
<dd><p>Integer specifying the thinning for saving augmented
data. Only used when <code>save_aug = TRUE</code>. Defaults to <code>1</code>.</p></dd>


<dt>clus_thinning</dt>
<dd><p>Integer specifying the thinning to be applied to cluster
assignments and cluster probabilities. Defaults to <code>1</code>.</p></dd>


<dt>rho_thinning</dt>
<dd><p>Integer specifying the thinning of <code>rho</code> to be performed
in the Metropolis- Hastings algorithm. Defaults to <code>1</code>. <code>compute_mallows</code>
save every <code>rho_thinning</code>th value of \(\rho\).</p></dd>


<dt>include_wcd</dt>
<dd><p>Logical indicating whether to store the within-cluster
distances computed during the Metropolis-Hastings algorithm. Defaults to
<code>FALSE</code>. Setting <code>include_wcd = TRUE</code> is useful when deciding the number of
mixture components to include, and is required by <code><a href="plot_elbow.html">plot_elbow()</a></code>.</p></dd>


<dt>save_aug</dt>
<dd><p>Logical specifying whether or not to save the augmented
rankings every <code>aug_thinning</code>th iteration, for the case of missing data or
pairwise preferences. Defaults to <code>FALSE</code>. Saving augmented data is useful
for predicting the rankings each assessor would give to the items not yet
ranked, and is required by <code><a href="plot_top_k.html">plot_top_k()</a></code>.</p></dd>


<dt>save_ind_clus</dt>
<dd><p>Whether or not to save the individual cluster
probabilities in each step. This results in csv files <code>cluster_probs1.csv</code>,
<code>cluster_probs2.csv</code>, ..., being saved in the calling directory. This
option may slow down the code considerably, but is necessary for detecting
label switching using Stephen's algorithm.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>"BayesMallowsComputeOptions"</code>, to be provided in
the <code>compute_options</code> argument to <code><a href="compute_mallows.html">compute_mallows()</a></code>,
<code><a href="compute_mallows_mixtures.html">compute_mallows_mixtures()</a></code>, or <code><a href="update_mallows.html">update_mallows()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Crispino M, Arjas E, Vitelli V, Barrett N, Frigessi A (2019).
“A Bayesian Mallows approach to nontransitive pair comparison data: How human are sounds?”
<em>The Annals of Applied Statistics</em>, <b>13</b>(1), 492--519.
<a href="https://doi.org/10.1214/18-aoas1203" class="external-link">doi:10.1214/18-aoas1203</a>
.<br><br> Stein A (2023).
<em>Sequential Inference with the Mallows Model</em>.
Ph.D. thesis, Lancaster University.<br><br> Vitelli V, Sørensen, Crispino M, Arjas E, Frigessi A (2018).
“Probabilistic Preference Learning with the Mallows Rank Model.”
<em>Journal of Machine Learning Research</em>, <b>18</b>(1), 1--49.
<a href="https://jmlr.org/papers/v18/15-481.html" class="external-link">https://jmlr.org/papers/v18/15-481.html</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other preprocessing: 
<code><a href="get_transitive_closure.html">get_transitive_closure</a>()</code>,
<code><a href="set_initial_values.html">set_initial_values</a>()</code>,
<code><a href="set_model_options.html">set_model_options</a>()</code>,
<code><a href="set_priors.html">set_priors</a>()</code>,
<code><a href="set_smc_options.html">set_smc_options</a>()</code>,
<code><a href="setup_rank_data.html">setup_rank_data</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Oystein Sorensen, Waldir Leoncio, Valeria Vitelli, Marta Crispino, Qinghua Liu, Cristina Mollica, Luca Tardella, Anja Stein.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

