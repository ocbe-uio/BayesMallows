<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Sets the SMC compute options to be used in
update_mallows.BayesMallows()."><title>Set SMC compute options — set_smc_options • BayesMallows</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set SMC compute options — set_smc_options"><meta property="og:description" content="Sets the SMC compute options to be used in
update_mallows.BayesMallows()."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BayesMallows</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/BayesMallows.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/SMC-Mallows.html">Sequential Monte Carlo for the Bayesian Mallows model</a>
    <a class="dropdown-item" href="../articles/parallel_chains.html">MCMC with Parallel Chains</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ocbe-uio/BayesMallows/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Set SMC compute options</h1>
      <small class="dont-index">Source: <a href="https://github.com/ocbe-uio/BayesMallows/blob/HEAD/R/set_smc_options.R" class="external-link"><code>R/set_smc_options.R</code></a></small>
      <div class="d-none name"><code>set_smc_options.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sets the SMC compute options to be used in
<code><a href="update_mallows.html">update_mallows.BayesMallows()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_smc_options</span><span class="op">(</span></span>
<span>  n_particles <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  mcmc_steps <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  resampler <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stratified"</span>, <span class="st">"systematic"</span>, <span class="st">"residual"</span>, <span class="st">"multinomial"</span><span class="op">)</span>,</span>
<span>  latent_sampling_lag <span class="op">=</span> <span class="cn">NA_integer_</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>n_particles</dt>
<dd><p>Integer specifying the number of particles.</p></dd>


<dt>mcmc_steps</dt>
<dd><p>Number of MCMC steps to be applied in the resample-move
step.</p></dd>


<dt>resampler</dt>
<dd><p>Character string defining the resampling method to use. One
of "stratified", "systematic", "residual", and "multinomial". Defaults to
"stratified". While multinomial resampling was used in
Stein (2023)
,
stratified, systematic, or residual resampling typically give lower Monte
Carlo error (Douc and Cappe 2005; Hol et al. 2006; Naesseth et al. 2019)
.</p></dd>


<dt>latent_sampling_lag</dt>
<dd><p>Parameter specifying the number of timesteps to go
back when resampling the latent ranks in the move step. See Section 6.2.3
of (Kantas et al. 2015)
 for details. The \(L\) in their
notation corresponds to <code>latent_sampling_lag</code>. See more under Details.
Defaults to <code>NA</code>, which means that all latent ranks from previous timesteps
are moved. If set to <code>0</code>, no move step is applied to the latent ranks.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class "SMCOptions".</p>
    </div>
    <div class="section level2">
    <h2 id="lag-parameter-in-move-step">Lag parameter in move step<a class="anchor" aria-label="anchor" href="#lag-parameter-in-move-step"></a></h2>
    


<p>The parameter <code>latent_sampling_lag</code> corresponds to \(L\) in
(Kantas et al. 2015)
. Its use in this package is can be
explained in terms of Algorithm 12 in
(Stein 2023)
. The
relevant line of the algorithm is:</p>
<p><strong>for</strong> \(j = 1 : M_{t}\) <strong>do</strong> <br><strong>M-H step:</strong> update \(\tilde{\mathbf{R}}_{j}^{(i)}\) with proposal
\(\tilde{\mathbf{R}}_{j}' \sim q(\tilde{\mathbf{R}}_{j}^{(i)} |
  \mathbf{R}_{j}, \boldsymbol{\rho}_{t}^{(i)}, \alpha_{t}^{(i)})\).<br><strong>end</strong></p>
<p>Let \(L\) denote the value of <code>latent_sampling_lag</code>. With this parameter,
we modify for algorithm so it becomes</p>
<p><strong>for</strong> \(j = M_{t-L+1} : M_{t}\) <strong>do</strong> <br><strong>M-H step:</strong> update \(\tilde{\mathbf{R}}_{j}^{(i)}\) with proposal
\(\tilde{\mathbf{R}}_{j}' \sim q(\tilde{\mathbf{R}}_{j}^{(i)} |
  \mathbf{R}_{j}, \boldsymbol{\rho}_{t}^{(i)}, \alpha_{t}^{(i)})\).<br><strong>end</strong></p>
<p>This means that with \(L=0\) no move step is performed on any latent
ranks, whereas \(L=1\) means that the move step is only applied to the
parameters entering at the given timestep. The default,
<code>latent_sampling_lag = NA</code> means that \(L=t\) at each timestep, and hence
all latent ranks are part of the move step at each timestep.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Douc R, Cappe O (2005).
“Comparison of resampling schemes for particle filtering.”
In <em>ISPA 2005. Proceedings of the 4th International Symposium on Image and Signal Processing and Analysis,  2005.</em>.
<a href="https://doi.org/10.1109/ispa.2005.195385" class="external-link">doi:10.1109/ispa.2005.195385</a>
, <a href="http://dx.doi.org/10.1109/ISPA.2005.195385" class="external-link">http://dx.doi.org/10.1109/ISPA.2005.195385</a>.<br><br> Hol JD, Schon TB, Gustafsson F (2006).
“On Resampling Algorithms for Particle Filters.”
In <em>2006 IEEE Nonlinear Statistical Signal Processing Workshop</em>.
<a href="https://doi.org/10.1109/nsspw.2006.4378824" class="external-link">doi:10.1109/nsspw.2006.4378824</a>
, <a href="http://dx.doi.org/10.1109/NSSPW.2006.4378824" class="external-link">http://dx.doi.org/10.1109/NSSPW.2006.4378824</a>.<br><br> Kantas N, Doucet A, Singh SS, Maciejowski J, Chopin N (2015).
“On Particle Methods for Parameter Estimation in State-Space Models.”
<em>Statistical Science</em>, <b>30</b>(3).
ISSN 0883-4237, <a href="https://doi.org/10.1214/14-sts511" class="external-link">doi:10.1214/14-sts511</a>
, <a href="http://dx.doi.org/10.1214/14-STS511" class="external-link">http://dx.doi.org/10.1214/14-STS511</a>.<br><br> Naesseth CA, Lindsten F, Schön TB (2019).
“Elements of Sequential Monte Carlo.”
<em>Foundations and Trends® in Machine Learning</em>, <b>12</b>(3), 187–306.
ISSN 1935-8245, <a href="https://doi.org/10.1561/2200000074" class="external-link">doi:10.1561/2200000074</a>
, <a href="http://dx.doi.org/10.1561/2200000074" class="external-link">http://dx.doi.org/10.1561/2200000074</a>.<br><br> Stein A (2023).
<em>Sequential Inference with the Mallows Model</em>.
Ph.D. thesis, Lancaster University.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other preprocessing: 
<code><a href="get_transitive_closure.html">get_transitive_closure</a>()</code>,
<code><a href="set_compute_options.html">set_compute_options</a>()</code>,
<code><a href="set_initial_values.html">set_initial_values</a>()</code>,
<code><a href="set_model_options.html">set_model_options</a>()</code>,
<code><a href="set_priors.html">set_priors</a>()</code>,
<code><a href="setup_rank_data.html">setup_rank_data</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Oystein Sorensen, Waldir Leoncio, Valeria Vitelli, Marta Crispino, Qinghua Liu, Cristina Mollica, Luca Tardella, Anja Stein.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

