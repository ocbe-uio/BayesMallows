<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Set SMC compute options — set_smc_options • BayesMallows</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Set SMC compute options — set_smc_options"><meta name="description" content="Sets the SMC compute options to be used in
update_mallows.BayesMallows()."><meta property="og:description" content="Sets the SMC compute options to be used in
update_mallows.BayesMallows()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">BayesMallows</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/BayesMallows.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/parallel_chains.html">MCMC with Parallel Chains</a></li>
    <li><a class="dropdown-item" href="../articles/SMC-Mallows.html">Sequential Monte Carlo for the Bayesian Mallows model</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ocbe-uio/BayesMallows/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Set SMC compute options</h1>
      <small class="dont-index">Source: <a href="https://github.com/ocbe-uio/BayesMallows/blob/v2.2.7/R/set_smc_options.R" class="external-link"><code>R/set_smc_options.R</code></a></small>
      <div class="d-none name"><code>set_smc_options.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sets the SMC compute options to be used in
<code><a href="update_mallows.html">update_mallows.BayesMallows()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_smc_options</span><span class="op">(</span></span>
<span>  n_particles <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  mcmc_steps <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  resampler <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stratified"</span>, <span class="st">"systematic"</span>, <span class="st">"residual"</span>, <span class="st">"multinomial"</span><span class="op">)</span>,</span>
<span>  latent_sampling_lag <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  max_topological_sorts <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n-particles">n_particles<a class="anchor" aria-label="anchor" href="#arg-n-particles"></a></dt>
<dd><p>Integer specifying the number of particles.</p></dd>


<dt id="arg-mcmc-steps">mcmc_steps<a class="anchor" aria-label="anchor" href="#arg-mcmc-steps"></a></dt>
<dd><p>Number of MCMC steps to be applied in the resample-move
step.</p></dd>


<dt id="arg-resampler">resampler<a class="anchor" aria-label="anchor" href="#arg-resampler"></a></dt>
<dd><p>Character string defining the resampling method to use. One
of "stratified", "systematic", "residual", and "multinomial". Defaults to
"stratified". While multinomial resampling was used in
Stein (2023)
,
stratified, systematic, or residual resampling typically give lower Monte
Carlo error (Douc and Cappe 2005; Hol et al. 2006; Naesseth et al. 2019)
.</p></dd>


<dt id="arg-latent-sampling-lag">latent_sampling_lag<a class="anchor" aria-label="anchor" href="#arg-latent-sampling-lag"></a></dt>
<dd><p>Parameter specifying the number of timesteps to go
back when resampling the latent ranks in the move step. See Section 6.2.3
of (Kantas et al. 2015)
 for details. The \(L\) in their
notation corresponds to <code>latent_sampling_lag</code>. See more under Details.
Defaults to <code>NA</code>, which means that all latent ranks from previous timesteps
are moved. If set to <code>0</code>, no move step is applied to the latent ranks.</p></dd>


<dt id="arg-max-topological-sorts">max_topological_sorts<a class="anchor" aria-label="anchor" href="#arg-max-topological-sorts"></a></dt>
<dd><p>User when pairwise preference data are provided,
and specifies the maximum number of topological sorts of the graph
corresponding to the transitive closure for each user will be used as
initial ranks. Defaults to 1, which means that all particles get the same
initial augmented ranking. If larger than 1, the initial augmented ranking
for each particle will be sampled from a set of maximum size
<code>max_topological_sorts</code>. If the actual number of topological sorts consists
of fewer rankings, then this determines the upper limit.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class "SMCOptions".</p>
    </div>
    <div class="section level2">
    <h2 id="lag-parameter-in-move-step">Lag parameter in move step<a class="anchor" aria-label="anchor" href="#lag-parameter-in-move-step"></a></h2>



<p>The parameter <code>latent_sampling_lag</code> corresponds to \(L\) in
(Kantas et al. 2015)
. Its use in this package is can be
explained in terms of Algorithm 12 in
(Stein 2023)
. The
relevant line of the algorithm is:</p>
<p><strong>for</strong> \(j = 1 : M_{t}\) <strong>do</strong> <br><strong>M-H step:</strong> update \(\tilde{\mathbf{R}}_{j}^{(i)}\) with proposal
\(\tilde{\mathbf{R}}_{j}' \sim q(\tilde{\mathbf{R}}_{j}^{(i)} |
  \mathbf{R}_{j}, \boldsymbol{\rho}_{t}^{(i)}, \alpha_{t}^{(i)})\).<br><strong>end</strong></p>
<p>Let \(L\) denote the value of <code>latent_sampling_lag</code>. With this parameter,
we modify for algorithm so it becomes</p>
<p><strong>for</strong> \(j = M_{t-L+1} : M_{t}\) <strong>do</strong> <br><strong>M-H step:</strong> update \(\tilde{\mathbf{R}}_{j}^{(i)}\) with proposal
\(\tilde{\mathbf{R}}_{j}' \sim q(\tilde{\mathbf{R}}_{j}^{(i)} |
  \mathbf{R}_{j}, \boldsymbol{\rho}_{t}^{(i)}, \alpha_{t}^{(i)})\).<br><strong>end</strong></p>
<p>This means that with \(L=0\) no move step is performed on any latent
ranks, whereas \(L=1\) means that the move step is only applied to the
parameters entering at the given timestep. The default,
<code>latent_sampling_lag = NA</code> means that \(L=t\) at each timestep, and hence
all latent ranks are part of the move step at each timestep.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Douc R, Cappe O (2005).
“Comparison of resampling schemes for particle filtering.”
In <em>ISPA 2005. Proceedings of the 4th International Symposium on Image and Signal Processing and Analysis,  2005.</em>.
<a href="https://doi.org/10.1109/ispa.2005.195385" class="external-link">doi:10.1109/ispa.2005.195385</a>
, <a href="http://dx.doi.org/10.1109/ISPA.2005.195385" class="external-link">http://dx.doi.org/10.1109/ISPA.2005.195385</a>.<br><br> Hol JD, Schon TB, Gustafsson F (2006).
“On Resampling Algorithms for Particle Filters.”
In <em>2006 IEEE Nonlinear Statistical Signal Processing Workshop</em>.
<a href="https://doi.org/10.1109/nsspw.2006.4378824" class="external-link">doi:10.1109/nsspw.2006.4378824</a>
, <a href="http://dx.doi.org/10.1109/NSSPW.2006.4378824" class="external-link">http://dx.doi.org/10.1109/NSSPW.2006.4378824</a>.<br><br> Kantas N, Doucet A, Singh SS, Maciejowski J, Chopin N (2015).
“On Particle Methods for Parameter Estimation in State-Space Models.”
<em>Statistical Science</em>, <b>30</b>(3).
ISSN 0883-4237, <a href="https://doi.org/10.1214/14-sts511" class="external-link">doi:10.1214/14-sts511</a>
, <a href="http://dx.doi.org/10.1214/14-STS511" class="external-link">http://dx.doi.org/10.1214/14-STS511</a>.<br><br> Naesseth CA, Lindsten F, Schön TB (2019).
“Elements of Sequential Monte Carlo.”
<em>Foundations and Trends® in Machine Learning</em>, <b>12</b>(3), 187–306.
ISSN 1935-8245, <a href="https://doi.org/10.1561/2200000074" class="external-link">doi:10.1561/2200000074</a>
, <a href="http://dx.doi.org/10.1561/2200000074" class="external-link">http://dx.doi.org/10.1561/2200000074</a>.<br><br> Stein A (2023).
<em>Sequential Inference with the Mallows Model</em>.
Ph.D. thesis, Lancaster University.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other preprocessing:
<code><a href="get_transitive_closure.html">get_transitive_closure()</a></code>,
<code><a href="set_compute_options.html">set_compute_options()</a></code>,
<code><a href="set_initial_values.html">set_initial_values()</a></code>,
<code><a href="set_model_options.html">set_model_options()</a></code>,
<code><a href="set_priors.html">set_priors()</a></code>,
<code><a href="set_progress_report.html">set_progress_report()</a></code>,
<code><a href="setup_rank_data.html">setup_rank_data()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Oystein Sorensen, Waldir Leoncio, Valeria Vitelli, Marta Crispino, Qinghua Liu, Cristina Mollica, Luca Tardella, Anja Stein.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

